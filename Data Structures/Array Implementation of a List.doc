typedef struct
{
	int regno;
	char name[30];
	float marks[5];
}student;

student record[12];
int length=5;
void enterstudetails()
{
	for(int i=0;i<5;i++)
	{
		printf("\n Student %d Details\n",i+1);
		printf("\n enter the name of the student : ");
		scanf(" %[^\n]",record[i].name);
		printf("\n enter the Registration Number : ");
		scanf("%d",&record[i].regno);
		printf("\n enter the student marks in 5 subjects : ");
		for(int j=0;j<5;j++)
		{
			printf("\n enter the %dth subject marks : ",j+1);
			scanf("%f",&record[i].marks[j]);
		}
	}
}

void insertfirst()
{	student temp;
	for(int i=length;i>0;i--)
	{
		record[i]=record[i-1];
	}	
	printf("\n enter the name of the student : ");
	scanf("%s",record[0].name);
	printf("\n enter the Registration Number : ");
	scanf("%d",&record[0].regno);
	printf("\n enter the marks of the student in 5 subjects ");
	for(int i=0;i<5;i++)
	{
		printf("\nenter the %dth subject marks : ",i+1);
		scanf("%f",&record[0].marks[i]);
	}
	length++;
}

void insertlast()
{
	student temp;
	printf("\n enter the name of the student : ");
	scanf("%s",record[length].name);
	printf("\n enter the Registration Number : ");
	scanf("%d",&record[length].regno);
	printf("\n enter the marks of the student in 5 subjects ");
	for(int i=0;i<5;i++)
	{
		printf("\n enter the %dth subject marks : ",i+1);
		scanf("%f",&record[length].marks[i]);
	}
	length++;
}

void insertafter()
{	int number,index,i;
	student temp;
	printf("\n enter the Registration Number of the student : ");
	scanf("%d",&number);
	for(index=0;index<length;index++)
	{
		if(record[index].regno==number)
			break;
	}
	
	for(i=length;i>index+1;i--)
	{
		record[i]=record[i-1];	
	}
	printf("\n enter the name of the student : ");
	//gets(record[index+1].name);
	scanf(" %[^\n]",record[i].name);
	printf("\n enter the Registration Number : ");
	scanf("%d",&record[i].regno);
	printf("\n enter the marks of the student in 5 subjects ");
	for(int k=0;k<5;k++)
	{
		printf("\nenter the %dth subject marks : ",k+1);
		scanf("%f",&record[i].marks[k]);
	}
	length++;
}
void search()
{
	char searchname[20];
	printf("\n enter the name whose details are to be searched : ");
	scanf("%s",searchname);
	for(int i=0;i<length;i++)
	{
		if(strcmp(record[i].name,searchname)==0)
		{
			printf("\n Name : %s \n Registration Number : %d \n Mark1 : %.1f\t Mark2 : %.1f\t Mark3 : %.1f\t Mark4 : %.1f\t Mark5 : %.1f",record[i].name,record[i].regno,record[i].marks[0],record[i].marks[1],record[i].marks[2],record[i].marks[3],record[i].marks[4]);
		}
	}
}

void deleterec()
{
	int regnumb,i,j;
	printf("\n enter the registration number whose record is to be deleted : ");
	scanf("%d",&regnumb);
	for(i=0;i<length;i++)
	{
		if(regnumb==record[i].regno)
			break;
	}
	for(j=i;j<length;j++)
	{
		record[j]=record[j+1];
	}
	length--;
}

void display()
{
	int i;
	printf("\n NAME \t REGISTER NUMBER \t MARK1\tMARK2\tMARK3\tMARK4\tMARK5 \n");
	for(i=0;i<length;i++)
	{
		printf("%s \t  %d                 \t %.1f\t%.1f\t%.1f\t%.1f\t%.1f \n",record[i].name,record[i].regno,record[i].marks[0],record[i].marks[1],record[i].marks[2],record[i].marks[3],record[i].marks[4]);
	}
}
	
void printprevnext()
{	
	int tempreg,i;
	printf("\n enter the registratin number whose previous and next records are to be displayed : ");
	scanf("%d",&tempreg);
	for(i=0;i<length;i++)
	{
		if(tempreg==record[i].regno)
			break;
	}
    int position=i;
    if(position==0)
    {
        printf("\n Name : %s \n Registration Number : %d \n Mark1 : %.1f\t Mark2 : %.1f\t Mark3 : %.1f\t Mark4 : %.1f\t Mark5 : %.1f",record[i+1].name,record[i+1].regno,record[i+1].marks[0],record[i+1].marks[1],record[i+1].marks[2],record[i+1].marks[3],record[i+1].marks[4]);
    }
    else if(position==length-1)
    {
        printf("\n Name : %s \n Registration Number : %d \n Mark1 : %.1f\t Mark2 : %.1f\t Mark3 : %.1f\t Mark4 : %.1f\t Mark5 : %.1f",record[i-1].name,record[i-1].regno,record[i-1].marks[0],record[i-1].marks[1],record[i-1].marks[2],record[i-1].marks[3],record[i-1].marks[4]);
    }
    else
    {
        
        printf("\n Name : %s \n Registration Number : %d \n Mark1 : %.1f\t Mark2 : %.1f\t Mark3 : %.1f\t Mark4 : %.1f\t Mark5 : %.1f",record[i-1].name,record[i-1].regno,record[i-1].marks[0],record[i-1].marks[1],record[i-1].marks[2],record[i-1].marks[3],record[i-1].marks[4]);
        printf("\n");
        printf("\n Name : %s \n Registration Number : %d \n Mark1 : %.1f\t Mark2 : %.1f\t Mark3 : %.1f\t Mark4 : %.1f\t Mark5 : %.1f",record[i+1].name,record[i+1].regno,record[i+1].marks[0],record[i+1].marks[1],record[i+1].marks[2],record[i+1].marks[3],record[i+1].marks[4]);
    }
    
}
void enterstudetails();
void insertfirst();
void insertlast();
void insertafter();
void search();
void deleterec();
void display();
void printprevnext();
#include<stdio.h>
#include<string.h>
#include "prototype.h"
#include "structafun.h"

int main()
{
	printf("\n Enter details of 5 students\n");
	enterstudetails();
	int option;
	char choice;
	do{
	printf("choose any one of the given below options ");
	printf("\n1. Insert a record in the front of the list\n"
			"2. Insert a record at the end of the list\n"
			"3. Insert a record after a given Regno in the list\n"
			"4. Search a given record in the list based on Name\n"
			"5. Delete a given student record\n"
			"6. Display all students record\n"
			"7. Display the previous and next record of a given student \n");
	scanf("%d",&option);
	if(option==1)
		insertfirst();
	else if(option==2)
		insertlast();
	else if(option==3)
		insertafter();
	else if(option==4)
		search();
	else if(option==5)
		deleterec();
	else if(option==6)
		display();
	else if(option==7)
		printprevnext();
	else
		printf("\n the entered option is not valid \n");
	printf("\n do you want to continue : Y/N \n");
	scanf(" %c",&choice);
	}while(choice=='y'||choice=='Y');
	return 0;
			
}
/*OUTPUT : 
 Enter details of 5 students

 Student 1 Details

 enter the name of the student : babu

 enter the Registration Number : 12

 enter the student marks in 5 subjects : 
 enter the 1th subject marks : 55

 enter the 2th subject marks : 66

 enter the 3th subject marks : 77

 enter the 4th subject marks : 88

 enter the 5th subject marks : 99

 Student 2 Details

 enter the name of the student : shankar

 enter the Registration Number : 36

 enter the student marks in 5 subjects : 
 enter the 1th subject marks : 33

 enter the 2th subject marks : 44

 enter the 3th subject marks : 55

 enter the 4th subject marks : 66

 enter the 5th subject marks : 77

 Student 3 Details

 enter the name of the student : rox

 enter the Registration Number : 3

 enter the student marks in 5 subjects : 
 enter the 1th subject marks : 55

 enter the 2th subject marks : 66

 enter the 3th subject marks : 77

 enter the 4th subject marks : 66

 enter the 5th subject marks : 55

 Student 4 Details

 enter the name of the student : hehe

 enter the Registration Number : 40

 enter the student marks in 5 subjects : 
 enter the 1th subject marks : 44

 enter the 2th subject marks : 55

 enter the 3th subject marks : 66

 enter the 4th subject marks : 33

 enter the 5th subject marks : 44

 Student 5 Details

 enter the name of the student : lool

 enter the Registration Number : 20

 enter the student marks in 5 subjects : 
 enter the 1th subject marks : 55

 enter the 2th subject marks : 66

 enter the 3th subject marks : 77

 enter the 4th subject marks : 88

 enter the 5th subject marks : 77
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
1

 enter the name of the student : ram

 enter the Registration Number : 30

 enter the marks of the student in 5 subjects 
enter the 1th subject marks : 44

enter the 2th subject marks : 55

enter the 3th subject marks : 66

enter the 4th subject marks : 77

enter the 5th subject marks : 66

 do you want to continue : Y/N 
y
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
6

 NAME 	 REGISTER NUMBER 	 MARK1	MARK2	MARK3	MARK4	MARK5 
ram 	    30                44.0	55.0	66.0	77.0	66.0 
babu	  	12               55.0	66.0	77.0	88.0	99.0 
shankar 	36               33.0	44.0	55.0	66.0	77.0 
rox 	  	3                55.0	66.0	77.0	66.0	55.0 
jos		   68				33.0	44.0	55.0	66.0	77.0
hehe	   40                44.0	55.0	66.0	33.0	44.0 
lool 	   20                55.0	66.0	77.0	88.0	77.0 

 do you want to continue : Y/N 
y
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
2

 enter the name of the student : lmao

 enter the Registration Number : 79

 enter the marks of the student in 5 subjects 
 enter the 1th subject marks : 44

 enter the 2th subject marks : 55

 enter the 3th subject marks : 66

 enter the 4th subject marks : 77

 enter the 5th subject marks : 88

 do you want to continue : Y/N 
y
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
6

 NAME 	 REGISTER NUMBER 	 MARK1	MARK2	MARK3	MARK4	MARK5 
ram 	    30                44.0	55.0	66.0	77.0	66.0 
babu	  	12               55.0	66.0	77.0	88.0	99.0 
shankar 	36               33.0	44.0	55.0	66.0	77.0 
rox 	  	3                55.0	66.0	77.0	66.0	55.0 
hehe	   40                44.0	55.0	66.0	33.0	44.0 
lool 	   20                55.0	66.0	77.0	88.0	77.0 
lmao 	   79                44.0	55.0	66.0	77.0	88.0 

 do you want to continue : Y/N 
y
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
3

 enter the Registration Number of the student : 3

 enter the name of the student : jlo

 enter the Registration Number : 68

 enter the marks of the student in 5 subjects 
enter the 1th subject marks : 33

enter the 2th subject marks : 44

enter the 3th subject marks : 55

enter the 4th subject marks : 66

enter the 5th subject marks : 77

 do you want to continue : Y/N 
y
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
6

 NAME 	 REGISTER NUMBER 	 MARK1	MARK2	MARK3	MARK4	MARK5 
ram 	    30                44.0	55.0	66.0	77.0	66.0 
babu	  	12               55.0	66.0	77.0	88.0	99.0 
shankar 	36               33.0	44.0	55.0	66.0	77.0 
rox 	  	3                55.0	66.0	77.0	66.0	55.0 
jlo		   68				33.0	44.0	55.0	66.0	77.0
hehe	   40                44.0	55.0	66.0	33.0	44.0 
lool 	   20                55.0	66.0	77.0	88.0	77.0 
lmao 	   79                44.0	55.0	66.0	77.0	88.0 

 do you want to continue : Y/N 
y
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
4

 enter the name whose details are to be searched : hari

 Name : hari 
 Registration Number : 40 
 Mark1 : 44.0	 Mark2 : 55.0	 Mark3 : 66.0	 Mark4 : 33.0	 Mark5 : 44.0
 do you want to continue : Y/N 
y
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
5

 enter the registration number whose record is to be deleted : 30

 do you want to continue : Y/N 
y
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
6

 NAME 	 REGISTER NUMBER 	 MARK1	MARK2	MARK3	MARK4	MARK5 
babu	  	12               55.0	66.0	77.0	88.0	99.0 
shankar 	36               33.0	44.0	55.0	66.0	77.0 
rox 	  	3                55.0	66.0	77.0	66.0	55.0 
jlo		   68				33.0	44.0	55.0	66.0	77.0
hehe	   40                44.0	55.0	66.0	33.0	44.0 
lool 	   20                55.0	66.0	77.0	88.0	77.0 
lmao 	   79                44.0	55.0	66.0	77.0	88.0 
 do you want to continue : Y/N 
y
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
7

 enter the registratin number whose previous and next records are to be displayed : 40

 Name : jlo 
 Registration Number : 68 
 Mark1 : 33.0	 Mark2 : 44.0	 Mark3 : 55.0	 Mark4 : 66.0	 Mark5 : 77.0

 Name : lool 
 Registration Number : 20 
 Mark1 : 55.0	 Mark2 : 66.0	 Mark3 : 77.0	 Mark4 : 88.0	 Mark5 : 77.0
 do you want to continue : Y/N 
y
choose any one of the given below options 
1. Insert a record in the front of the list
2. Insert a record at the end of the list
3. Insert a record after a given Regno in the list
4. Search a given record in the list based on Name
5. Delete a given student record
6. Display all students record
7. Display the previous and next record of a given student 
6

 NAME 	 REGISTER NUMBER 	 MARK1	MARK2	MARK3	MARK4	MARK5 
ram 	    30                44.0	55.0	66.0	77.0	66.0 
babu	  	12               55.0	66.0	77.0	88.0	99.0 
shankar 	36               33.0	44.0	55.0	66.0	77.0 
rox 	  	3                55.0	66.0	77.0	66.0	55.0 
jos		   68				33.0	44.0	55.0	66.0	77.0
hehe	   40                44.0	55.0	66.0	33.0	44.0 
lool 	   20                55.0	66.0	77.0	88.0	77.0 
lmao 	   79                44.0	55.0	66.0	77.0	88.0 

 do you want to continue : Y/N 
n
*/
